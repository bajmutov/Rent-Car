{"version":3,"file":"static/js/795.6557608b.chunk.js","mappings":"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","sources":["components/Filters/Input/Input.styled.js","components/Filters/Filters.styled.jsx","components/Filters/Filters.jsx","constants/price.js","redux/filters/filterSelectors.js","pages/Catalog/Catalog.styled.js","components/ServiceMessage/ServiceMessage.jsx","components/ServiceMessage/ErrorMessage.jsx","pages/Catalog/Catalog.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledInput = styled.input`\n  color: var(--main-text-color);\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 111%;\n  color: #121417;\n  width: 160px;\n\n  height: 48px;\n  box-sizing: border-box;\n\n  border: none;\n  padding: 14px 18px;\n  background: #f7f7fb;\n\n  &::placeholder {\n    color: var(--main-text-color);\n  }\n\n  &:focus {\n    outline: 1px solid var(--light-blue-color);\n  }\n`;\n","import styled from 'styled-components';\nimport { StyledInput } from './Input/Input.styled';\n\nexport const FormWrripper = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 18px;\n  align-items: flex-end;\n`;\n\nexport const FilterForm = styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  gap: 18px;\n`;\n\nexport const FilterFormItemWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  justify-content: flex-start;\n`;\n\nexport const FilterFormLabel = styled.label`\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 129%;\n  color: var(--filter-grey-color);\n`;\n\nexport const FilterFormCustomSelect = styled.div`\n  position: relative;\n  display: inline-block;\n  display: flex;\n`;\n\nexport const FilterFormSelect = styled.select`\n  color: var(--main-text-color);\n  height: 48px;\n  width: ${({ $width }) => `${$width}px`};\n  border-radius: 14px;\n  border: none;\n  padding: 14px 18px;\n  background: #f7f7fb;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  cursor: pointer;\n\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 111%;\n\n  &:focus,\n  &:hover {\n    outline: 1px solid var(--light-blue-color);\n  }\n`;\n\nexport const FilterFormArrowIcon = styled.svg`\n  height: 20px;\n  width: 20px;\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  pointer-events: none;\n`;\n\nexport const FilterFormMileageInput = styled.div`\n  display: flex;\n`;\n\nexport const FilterFormInputFrom = styled(StyledInput)`\n  border-right: 1px solid rgba(138, 138, 137, 0.2);\n  border-radius: 14px 0 0 14px;\n`;\n\nexport const FilterFormInputTo = styled(StyledInput)`\n  border-radius: 0 14px 14px 0;\n`;\n\nexport const FilterButton = styled.button`\n  border-radius: 12px;\n  color: var(--white-text-color);\n  background-color: var(--light-blue-color);\n  padding: 14px 44px;\n  display: block;\n  border: none;\n  transition: var(--transition);\n  font-size: 14px;\n  line-height: calc(20 / 14);\n\n  &:hover,\n  &:focus {\n    background-color: var(--dark-blue-color);\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { addFilters, clearFilter } from '../../redux/filters/filterSlice.js';\nimport { selectIsLoading } from '../../redux/cars/carsSelectors';\n\nimport makes from '../../constants/makes.json';\nimport { createPrices } from '../../constants/price.js';\n\nimport {\n  FilterForm,\n  FilterFormItemWrapper,\n  FilterFormLabel,\n  FilterFormSelect,\n  FilterFormArrowIcon,\n  FilterFormCustomSelect,\n  FilterFormMileageInput,\n  FilterFormInputFrom,\n  FilterFormInputTo,\n  FilterButton,\n  FormWrripper,\n} from './Filters.styled.jsx';\n\nexport const Filters = () => {\n  const isLoading = useSelector(selectIsLoading);\n  const dispatch = useDispatch();\n\n  const prices = createPrices();\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const { brand, price, mileageFrom, mileageTo } = e.target.elements;\n    const data = {\n      brand: brand.value,\n      price: price.value,\n      mileageFrom: mileageFrom.value,\n      mileageTo: mileageTo.value,\n    };\n    dispatch(addFilters(data));\n  };\n\n  return (\n    <FormWrripper>\n      <FilterForm onSubmit={onFormSubmit}>\n        <FilterFormItemWrapper>\n          <FilterFormLabel htmlFor=\"car_brand\">Car Brand</FilterFormLabel>\n\n          <FilterFormCustomSelect>\n            <FilterFormSelect\n              name=\"brand\"\n              id=\"car_brand\"\n              defaultValue=\"\"\n              $width={224}\n            >\n              <option value=\"\" disabled>\n                Enter the text\n              </option>\n              {makes.map(make => (\n                <option key={make} value={make}>\n                  {make}\n                </option>\n              ))}\n            </FilterFormSelect>\n            <FilterFormArrowIcon>\n              <use xlinkHref=\"/sprite.svg#icon-chevron-down\"></use>\n            </FilterFormArrowIcon>\n          </FilterFormCustomSelect>\n        </FilterFormItemWrapper>\n        <FilterFormItemWrapper>\n          <FilterFormLabel htmlFor=\"car_price\">Price/ 1 hour</FilterFormLabel>\n\n          <FilterFormCustomSelect>\n            <FilterFormSelect\n              name=\"price\"\n              placeholder=\"To $\"\n              id=\"car_price\"\n              defaultValue=\"\"\n              $width={125}\n            >\n              <option value=\"\" disabled>\n                To $\n              </option>\n              {prices.map(price => (\n                <option key={price}>{price}</option>\n              ))}\n            </FilterFormSelect>\n            <FilterFormArrowIcon>\n              <use xlinkHref=\"/sprite.svg#icon-chevron-down\"></use>\n            </FilterFormArrowIcon>\n          </FilterFormCustomSelect>\n        </FilterFormItemWrapper>\n        <FilterFormItemWrapper>\n          <FilterFormLabel htmlFor=\"min_mileage\">\n            Сar mileage / km\n          </FilterFormLabel>\n          <FilterFormMileageInput>\n            <FilterFormInputFrom\n              type=\"number\"\n              name=\"mileageFrom\"\n              placeholder=\"From\"\n              id=\"min_mileage\"\n            />\n            <FilterFormInputTo\n              type=\"number\"\n              name=\"mileageTo\"\n              placeholder=\"To\"\n              id=\"max_mileage\"\n            />\n          </FilterFormMileageInput>\n        </FilterFormItemWrapper>\n        <FilterButton disabled={isLoading}>Search</FilterButton>\n      </FilterForm>\n      <FilterButton\n        disabled={isLoading}\n        onClick={() => dispatch(clearFilter())}\n      >\n        Reset filters\n      </FilterButton>\n    </FormWrripper>\n  );\n};\n\nexport default Filters;\n","export const createPrices = () => {\n  let pricesArray = [];\n  for (let i = 10; i <= 500; i += 10) {\n    pricesArray.push(i);\n  }\n  return pricesArray;\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nexport const getFiltersBrand = state => state.filters.brand;\nexport const getFiltersPrice = state => state.filters.price;\nexport const getFiltersMileageFrom = state => state.filters.mileageFrom;\nexport const getFiltersMileageTo = state => state.filters.mileageTo;\n\nexport const getAllFilters = state => state.filters;\n\nexport const selectAllCars = state => state.cars.allCars;\n\nexport const selectVisibleCars = createSelector(\n  [\n    selectAllCars,\n    getFiltersBrand,\n    getFiltersPrice,\n    getFiltersMileageFrom,\n    getFiltersMileageTo,\n  ],\n  (allCars, brand, price, mileageFrom, mileageTo) => {\n    if (!brand && !price && !mileageFrom && !mileageTo) {\n      return allCars;\n    } else {\n      let filteredCars = [...allCars];\n\n      if (brand)\n        filteredCars = filteredCars.filter(\n          car => car.make.trim().toLowerCase() === brand.trim().toLowerCase()\n        );\n\n      if (price)\n        filteredCars = filteredCars.filter(\n          car => parseInt(car.rentalPrice.replace('$', '')) <= price\n        );\n\n      if (mileageFrom || mileageTo) {\n        filteredCars = filteredCars.filter(\n          car =>\n            mileageFrom <= car.mileage &&\n            (car.mileage <= mileageTo || !mileageTo)\n        );\n      }\n\n      return filteredCars;\n    }\n  }\n);\n","import styled from 'styled-components';\n\nexport const StyledCatalogPage = styled.section`\n  padding-bottom: 50px;\n  padding-top: 50px;\n`;\n","const ServiceMessage = ({ message }) => (\n  <h1 style={{ textAlign: 'center' }}>{message}</h1>\n);\n\nexport default ServiceMessage;\n","const ErrorMessage = () => (\n  <h1 style={{ textAlign: 'center' }}>Something went wrong.. Reload page</h1>\n);\n\nexport default ErrorMessage;\n","import Button from 'components/Button';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchCarsThunk,\n  fetchLoadMoreCarsThunk,\n} from '../../redux/cars/carsOperation';\nimport { selectIsError, selectIsLoading } from '../../redux/cars/carsSelectors';\nimport CarsList from 'components/CarsList';\nimport { LIMIT_PER_PAGE } from '../../constants/constants';\nimport Loader from 'components/Loader';\nimport Filters from 'components/Filters';\nimport { selectVisibleCars } from '../../redux/filters/filterSelectors';\nimport { StyledCatalogPage } from './Catalog.styled';\nimport ServiceMessage from 'components/ServiceMessage';\nimport ErrorMessage from 'components/ServiceMessage/ErrorMessage';\nimport { clearFilter } from '../../redux/filters/filterSlice';\n\nconst Catalog = () => {\n  const isLoading = useSelector(selectIsLoading);\n  const isError = useSelector(selectIsError);\n  const [currentPage, setCurrentPage] = useState(2);\n  const visibleCars = useSelector(selectVisibleCars);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCarsThunk());\n\n    return () => {\n      dispatch(clearFilter());\n    };\n  }, [dispatch]);\n\n  const handleLoadMore = () => {\n    dispatch(fetchLoadMoreCarsThunk(currentPage));\n    setCurrentPage(currentPage + 1);\n  };\n\n  const isShowButton = !isLoading && !(visibleCars.length % LIMIT_PER_PAGE);\n\n  return (\n    <StyledCatalogPage>\n      {isError ? (\n        <ErrorMessage />\n      ) : (\n        <>\n          <Filters />\n          {isLoading && <Loader />}\n          {visibleCars?.length ? (\n            <CarsList cars={visibleCars} />\n          ) : (\n            !isLoading && (\n              <ServiceMessage message=\"No cars on your request. Change filter settings\" />\n            )\n          )}\n          {isShowButton && (\n            <Button\n              paddingX={99.5}\n              onClick={handleLoadMore}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Loading...' : ' Load More'}\n            </Button>\n          )}\n        </>\n      )}\n    </StyledCatalogPage>\n  );\n};\n\nexport default Catalog;\n"],"names":["StyledInput","styled","_templateObject","_taggedTemplateLiteral","FormWrripper","FilterForm","_templateObject2","FilterFormItemWrapper","_templateObject3","FilterFormLabel","_templateObject4","FilterFormCustomSelect","_templateObject5","FilterFormSelect","_templateObject6","_ref","$width","concat","FilterFormArrowIcon","_templateObject7","FilterFormMileageInput","_templateObject8","FilterFormInputFrom","_templateObject9","FilterFormInputTo","_templateObject10","FilterButton","_templateObject11","isLoading","useSelector","selectIsLoading","dispatch","useDispatch","prices","pricesArray","i","push","createPrices","_jsxs","children","onSubmit","e","preventDefault","_e$target$elements","target","elements","brand","price","mileageFrom","mileageTo","data","value","addFilters","_jsx","htmlFor","name","id","defaultValue","disabled","makes","make","xlinkHref","placeholder","map","type","onClick","clearFilter","selectVisibleCars","createSelector","state","cars","allCars","filters","filteredCars","_toConsumableArray","filter","car","trim","toLowerCase","parseInt","rentalPrice","replace","mileage","StyledCatalogPage","message","style","textAlign","isError","selectIsError","_useState","useState","_useState2","_slicedToArray","currentPage","setCurrentPage","visibleCars","useEffect","fetchCarsThunk","isShowButton","length","LIMIT_PER_PAGE","ErrorMessage","_Fragment","Filters","Loader","CarsList","ServiceMessage","Button","paddingX","fetchLoadMoreCarsThunk"],"sourceRoot":""}